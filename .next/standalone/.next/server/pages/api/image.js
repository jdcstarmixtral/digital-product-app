"use strict";(()=>{var e={};e.id=941,e.ids=[941],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9648:e=>{e.exports=import("axios")},868:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{config:()=>u,default:()=>l,routeModule:()=>p});var s=r(1802),i=r(7153),o=r(6249),n=r(5670),d=e([n]);n=(d.then?(await d)():d)[0];let l=(0,o.l)(n,"default"),u=(0,o.l)(n,"config"),p=new s.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/image",pathname:"/api/image",bundlePath:"",filename:""},userland:n});t()}catch(e){t(e)}})},5670:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{default:()=>handler});var s=r(9648),i=e([s]);async function handler(e,a){if("POST"!==e.method)return a.status(405).json({error:"Only POST allowed"});let{prompt:r}=e.body;if(!r)return a.status(400).json({error:"Prompt is required"});try{let e=await s.default.post("https://openrouter.ai/api/image",{prompt:r},{headers:{Authorization:`Bearer ${process.env.OPENROUTER_API_KEY}`,"HTTP-Referer":process.env.OPENROUTER_HTTP_REFERER||"https://digital-product.vercel.app","X-Title":process.env.OPENROUTER_X_TITLE||"JDC LAM"}});a.status(200).json({image:e.data.image_url||null})}catch(e){console.error("Image API error:",e?.message||e),a.status(500).json({error:"Failed to generate image"})}}s=(i.then?(await i)():i)[0],t()}catch(e){t(e)}})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[222],()=>__webpack_exec__(868));module.exports=r})();