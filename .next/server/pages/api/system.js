"use strict";(()=>{var e={};e.id=932,e.ids=[932],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},4296:(e,t,s)=>{s.r(t),s.d(t,{config:()=>m,default:()=>p,routeModule:()=>g});var a={};s.r(a),s.d(a,{default:()=>handler});var r=s(1802),n=s(7153),o=s(6249),i=s(7147),l=s.n(i),c=s(1017),d=s.n(c);let u=process.env.OPENROUTER_API_KEY;async function callMixtral(e){let t=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify({model:"mistral-7b-instruct:free",messages:[{role:"system",content:"You are the backend logic AI for a digital product dashboard. Return raw JSON only."},{role:"user",content:e}]})}),s=await t.json(),a=s.choices?.[0]?.message?.content||"{}";return JSON.parse(a)}async function handler(e,t){if("POST"!==e.method)return t.status(405).json({message:"Method not allowed"});let{action:s}=e.body;switch(s){case"heal":let a=await callMixtral("Scan the system and return an object listing any missing or broken frontend routes or backend endpoints.");return t.status(200).json({message:"✅ Healing triggered",result:a});case"clear":return t.status(200).json({message:"✅ Memory cleared and system state reset."});case"override":return t.status(200).json({message:"✅ Override granted. Manual controls unlocked."});case"sync":let r=d().resolve(process.cwd(),"data/mixtral"),n=l().existsSync(r)?l().readdirSync(r):[];return t.status(200).json({message:"✅ Sync complete.",productCount:n.length});default:return t.status(400).json({message:"❌ Unknown action."})}}let p=(0,o.l)(a,"default"),m=(0,o.l)(a,"config"),g=new r.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/system",pathname:"/api/system",bundlePath:"",filename:""},userland:a})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[222],()=>__webpack_exec__(4296));module.exports=s})();